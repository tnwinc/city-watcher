@mixin flexbox-display-flex {
  display: -webkit-box;
  display: -moz-box;
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
}

@mixin flexbox-order($order){
  -webkit-box-ordinal-group: $order;
  -moz-box-ordinal-group: $order;
  -ms-flex-order: $order;
  -webkit-order: $order;
  order: $order;
}

body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img,a img{border:none;}address,caption,cite,code,dfn,em,strong,th,var,optgroup{font-style:inherit;font-weight:inherit;}del,ins{text-decoration:none;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:baseline;}sub{vertical-align:baseline;}legend{color:#000;}

body {
  background: #333;
  color: #e3e3e3;
  font-family: 'Helvetica Neue', Arial, sans-serif;
}

h2 {
  font-size: 24px;
}

p {
  font-size: 16px;
  line-height: 1.5;
}

.servers {
  color: #c7c7c7;
  margin: 10px;
}

.server:first-child .build-list:first-child {
  li:first-child,
  li:first-child div {
    border-radius: 3px 3px 0 0;
  }
}

.server:last-child .build-list:last-child {
  li:last-child,
  li:last-child div {
    border-radius: 0 0 3px 3px;
  }
}

@-webkit-keyframes sheen {
  0%   { background-position: -300px 0; }
  100% { background-position:  4000px 0; }
}

div.servers {
  @include flexbox-display-flex;
}

ul.server li.running {
  @include flexbox-order(0);
}
ul.server li.status-failure.not-running{
  @include flexbox-order(1);
}
ul.server li.status-success.not-running{
  @include flexbox-order(2);
}


.build-status {
    li.running {
      @include flexbox-order(0);
    }
    li.status-failure.not-running{
      @include flexbox-order(1);
    }
    li.status-success.not-running{
      @include flexbox-order(2);
    }

  li {
    background: #121212;
    background: -webkit-linear-gradient(top, #111, #292929);
    background: linear-gradient(top, #111, #292929);
    overflow: hidden;
    &:first-child {
      border: none;
    }
  }

  .running .branch-wrap {
    background: image-url('shine.png') no-repeat;
    -webkit-animation: sheen 10s infinite;
  }

  .branch {
    border-top: solid 1px;
    border-bottom: solid 1px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    padding: 5px 10px;
    white-space: nowrap;
    -webkit-transition: all 1s ease-in-out;
    transition: all 1s ease-in-out;
  }

  $success-base-color: #496624;
  .status-success .branch {
    background-color: $success-base-color;
    border-top-color: lighten($success-base-color, 5%);
    border-bottom-color: darken($success-base-color, 5%);
  }

  $failure-base-color: #973333;
  .status-failure .branch {
    background-color: $failure-base-color;
    border-top-color: lighten($failure-base-color, 5%);
    border-bottom-color: darken($failure-base-color, 5%);
  }

  $unknown-base-color: #626262;
  .status-unknown .branch {
    background-color: $unknown-base-color;
    border-top-color: lighten($unknown-base-color, 5%);
    border-bottom-color: darken($unknown-base-color, 5%);
  }

  $no-recent-base-color: #434343;
  .status-no-recent-builds .branch {
    background-color: $no-recent-base-color;
    border-top-color: lighten($no-recent-base-color, 5%);
    border-bottom-color: darken($no-recent-base-color, 5%);

    h2 {
      font-size: 16px;
      opacity: 0.6;
    }
  }
}

.running .branch {
  min-height: 90px;
}

.status-text,
.stage-text {
  opacity: 0.5;

  .not-running & {
    display: none;
  }
}

.fixtures {
  display: none;
}

.fixture-mode-message {
  padding: 10px;

  p {
    opacity: 0.6;
  }
}
